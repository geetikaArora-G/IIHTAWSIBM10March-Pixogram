<app-main></app-main>
<div class="container">
  <h1>User Registration</h1>
  <form #register="ngForm" (ngSubmit)="OnSubmit(register,$event)">
    <div class="form-group">
      <label for="firstName">First Name :</label>
      <input
        #firstName="ngModel"
        required
        type="text"
        name="firstName"
        class="form-control"
        pattern="[a-zA-Z]*"
        ngModel
      />
      <div *ngIf="firstName.invalid && (firstName.dirty || firstName.touched)" class="alert alert-danger">
        <div *ngIf="firstName.errors?.required">
          First Name is required.
        </div>
        <div *ngIf="firstName.errors?.pattern">
          First Name should contain only Alphabets.
        </div>
      </div>
    </div>

    <div class="form-group">
      <label for="lastName">Last Name :</label>
      <input
        #lastName="ngModel"
        required
        type="text"
        name="lastName"
        class="form-control"
        pattern="[a-zA-Z]*"
        ngModel
      />
      <div *ngIf="lastName.invalid && (lastName.dirty || lastName.touched)" class="alert alert-danger">
        <div *ngIf="lastName.errors?.required">
          Last Name is required.
        </div>
        <div *ngIf="lastName.errors?.pattern">
          Last Name should contain only Alphabets.
        </div>
      </div>
    </div>
    <div class="form-group">
      <label for="userName">User Name :</label>
      <input
        #userName="ngModel"
        required
        minlength="8"
        maxlength="12"
        type="text"
        name="userName"
        class="form-control"
        pattern="^[a-zA-Z][a-zA-Z0-9]*$"
        ngModel
      />
      <button class="btn btn-primary" name="checkUserExistence" type="submit">Check User</button>
      <div *ngIf="userName.invalid && (userName.dirty || userName.touched)" class="alert alert-danger">
        <div *ngIf="userName.errors?.required">
          User Name is required.
        </div>
        <div *ngIf="userName.errors?.minlength">
          User Name must be at least 8 characters long.
        </div>
        <div *ngIf="userName.errors?.pattern">
          User Name should contain only Alphabets and Numbers .It should not
          start with Numbers.
        </div>
      </div>
      <div class="alert alert-danger">{{userAlreadyExists}}</div>
    </div>
    <div class="form-group">
      <label for="email">Email:</label>
      <input
        #email="ngModel"
        required
        type="text"
        name="email"
        class="form-control"
        pattern="^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$"
        ngModel
      />
      <div *ngIf="email.invalid && (email.dirty || email.touched)" class="alert alert-danger">
        <div *ngIf="email.errors?.required">
          Email is required.
        </div>
        <div *ngIf="email.errors?.pattern">
          Kindly provide correct Email.
        </div>
      </div>
    </div>
    <div class="form-group">
      <label for="dob">Date of Birth :</label>
      <input
        #dob="ngModel"
        required
        type="date"
        name="dob"
        class="form-control"
        ngModel
      />
      <div *ngIf="dob.invalid && (dob.dirty || dob.touched)" class="alert alert-danger">
        <div *ngIf="dob.errors?.required">
          Date of Birth is required.
        </div>
      </div>
    </div>
    <div class="form-group">
      <label for="password">Password :</label>
      <input
        #password="ngModel"
        required
        minlength="8"
        maxlength="12"
        type="password"
        name="password"
        class="form-control"
        ngModel
      />
      <div *ngIf="password.invalid && (password.dirty || password.touched)" class="alert alert-danger">
        <div *ngIf="password.errors?.required">
          Password is required.
        </div>
        <div *ngIf="password.errors?.minlength">
          Password must be at least 8 characters long.
        </div>
      </div>
    </div>
    <div class="form-group">
      <label for="confirmPassword">Confirm Password :</label>
      <input
        #confirmPassword="ngModel"
        required
        minlength="8"
        maxlength="12"
        type="password"
        name="confirmPassword"
        class="form-control"
        pattern="{{ password.value }}"
        ngModel
      />
      <div *ngIf="confirmPassword.invalid && (confirmPassword.dirty || confirmPassword.touched)"
        class="alert alert-danger">
        <div *ngIf="confirmPassword.errors?.required">
          Confirm Password is required.
        </div>
        <div *ngIf="confirmPassword.errors?.minlength">
          Confirm Password must be at least 8 characters long.
        </div>
        <div *ngIf="confirmPassword.errors?.pattern">
          Passwords do not Match.
        </div>
      </div>
    </div>
    <div class="form-group">
      <label for="profilePicture">Profile Picture :</label>
      <input
        #profilePicture="ngModel"
        required
        type="file"
        name="profilePicture"
        class="form-control"
        (change)="onFileSelect($event)"
        ngModel
      />
      <div *ngIf="profilePicture.invalid && (profilePicture.dirty || profilePicture.touched)"
        class="alert alert-danger">
        <div *ngIf="profilePicture.errors?.required">
          Profile Picture is required.
        </div>
      </div>
    </div>
    <button class="btn btn-primary" name="submit" type="submit">Submit</button>
  </form>
</div>